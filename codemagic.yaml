workflows:
  release-build---google-play-and-app-store:
    name: Release Build - Google Play and App Store
    max_build_duration: 60
    environment:
      vars:
        BUILD_NO: $(($BUILD_NUMBER+100))
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmcxWjFPUjVLWkI1YjdSalVFbWZNU3d4Y0JzVG41M2ZJcl9hblgwLXEzYXpnTGQwQk9xaGZVUlVUMUFWaHJ2Unh4NGI4ZTNKc2F0dy14V2tqdzdXdmJfYWM3elZEQVFucHhhLU9TMmlpbEVGQl95MVBmQ0NoclItSDBrR29MWXhDTDEzWndyWXVjcmlpV0ZRZUlGbXQ5ZVNaNFNvZENCaVdBMGZRQVE4cXh3Sy00anFRdDFlVUNrWUg4eVFtQzNzT1hXVG9GbE5JQzNvZHpwYlBVVnBhZlA0VkhFS3RpY2NfUXdJYk5Eclo4N3pGd2Jlbkoyc0xBMnNKUEdndnRCYnNHT1Fwdk9KenFLb2lfeUQ2MlZTekhXRVd4LVVtVFBPUGNXendkQmtwRmxlZmdwVEdHSXVNV0E2bjE5S2NKeTBmRkdOcThCNlV3eGNwUTFiMzFYRmdYSjY3RHF6NjY2R1E0Q2dhRnU5MTZkUm5PdnRoRmpzN3VZOU5mbHhtYWNwMms5VlF6ZUtPeUxoOGJxTDFiMVNWTHRTNGdkSEt5bkRzTU80RDgxd2ZUNU5VcWgwVTlHajRHWmJ5eVlGUDE3STlrS28xRkRXX1Ryenk0YVA1MUNyTnVxTmIyTkx6ODUtS3FRNEIycVphMVQ0cmxJWmNmLXVab2N4U1AtRGs4dTA2MjFZekNUZ241MjhYN2ZpRVEyTjF3SWN4ZTgxZ0lYbV9LS0RfbENYY2FxWGVzSkllTXNfSXg5c282ckxmb2NvNU4zZDQxeUttUVR0WWVRM0tMSUlNSFpFNHpMVnNyZmZtcFJ3U2QtUUU2RnkyUUJ0ZU1xMDFhUTRUbXpRbW5lMFhBTVdkTVJFZDU5YlAyTzA5a1NpcEVES1R4MV9OOElUWFBROTNwNkhDR25MTFpnazQ4bmNiaE1lZ05PTURvNUlIVWRZRWw0cUpxRlpRNktjM2k4ZkgwZmRWMzNZcFd3WWxoTmpNYm9vYktCVHVsMkloc19BeGJyZWh5cXU3TG5BM3VCUjJTX1A5Y1ppOFhlX1RzMGQ4RmNQTGl5OEhkSngxYnoxZjdQbGFHbFJDZDFraU15NERvOG1wckZxU0VFZlRZS1lOMHdIcXlxdldpYzVpdFZTdUU4RzB5eG5Ha1o5NmhfVDJPdDE1UVZ0WUV5N2RHNF8xRURqMzN5WEY1eU10OHliRTBNOUhldjBRcWkwZWYzV2tTVzlGM3FjVlphSHBlSjRJRGxFTTVXQjNQb1RrR1U1NFdyU1hiWEpPMTQ4bzNwclVoYTBzRkwxclhSdTctMU5DTU01UndLTUVyXzBNZFMzRzlyUUIyX0lXX0NJNVdJcVlpdFVzQlNfaGt0bHctWDFLZ3dDbkhCWEVMMUY0UVZpVTYtd19tcDdNNVVydjdlNVk1djlVVUxzVkxxbThvMkJ2SldHZEFMWkJmeTJ0c0JlV09TQTMwUFBlNVZsU1hXVDR6RlRwWkE4YlZPbFpGUnVhTnZUUXAtNWN4QkxmZ1ZIeUVJWWt2NTFYbWE1ZVRKQjRJS2pJWWcyX3cyMlRrSUdSU1ZxSFFBbjJ1TkRMRTlPck1ZX0RidmhmOEU3N1RSM1BBMzdLa3ZSeTZuUE5CZ0UyRldPLW5Na2JubjdnaXExQy1nOUFQanJMM0pOTjA5SkJneHcwUV9mWS1fQlpEcktFNEVuRVAwa0g2aUlSU29ZOGJTT1hwUVFRdWtTckt1QndCTDZJdEYtWklqLTI1aU83QWdQUnFOSTVnLUhFWlVPM0I0T0JnQklLQ0Q4MWFjd1BSeEw4aGdycXBSa01OMTh0Z2dadlRhNGw1ajMwX3FhSmZ4STJEcWZWZDRVRlBBRDE0Q2puU0tXWUtINkhHYWxNSHRzdENoUFZUQmUyMlkxWXhQM0JMc1pKelc1YkdscTVKam9zZWhQd0JsSHBfbl9DZVRXT0NuRm8xdDctZVVOel9HbEV3czdNMjJpY0tsa1Q5Yjc4ZDNpVkpVV2RVZHRZNnJUdDR3dnRvMmZDUmxqLWVNX1YxXy15c2VFSlZzajEtOVl0a3EtOEpuYXRMNnlzTV9WTHNjSGd3NUg2OV9tZ0hqdnc1TzB1aWY1RTNUTFp1VThhSE81d1BCM2xRSU9oVFJUX0lNYkpkOWF5ZG9zNnJzSG5jR19hdTh6eVkzSTNvUFJ2NzlVVl94dF8wZW9oU1VJQzNEeXY0T3YyaFZSM0lwTkRaZW42NUdVNkJnU3l5MUxseXZqb3V3UFB6OTJYQ1AyVjZRV240V19iMUZuckZ6OFk0cFVIcG1VRlBDQXlqQnJGOUVsdlB1dnpvMXl5OC0wR1NVUVZJOHVWOERWbVJwUUNSRWEtNmlzY3NBdTFkWGZFcUZzTU1qU1RVMWJLYmwxZ1RZUlRYSi1YT1NHWWx5Rmx0cVhuR21INE00eF9EeVJqUHUwTlRYcTZjZ25xWXBkQU5uVGl4VXE5cTdBY29xaU1ZaEZfYTdfdlhiTVFET3BCRk11Z3dpWGEwaTgxbllWY3ZRRzNsMC1ZWGxPdGRrTUU3aW9nWXBiaE9mR3ZqYm52MTNNWlB6ZmJSOFFLUURYREpaRDNRUVFCbWJDNTNhTUNoNm1kOXl5eTNfc3lob2dZek0tUFExaFNkajlMbnI2dlFnbGM1aHNQdGFfN2lXVU5NRVNiTC1UV3U2VGtmUThCaDl1MkNfM2kzZzVJTTd6Vk5JTGVXa2ZqeE8yRmNyWlBRNW5HZWFCQ3RKMTUyRjBJMnhQMy1odVh6ZDMtZ0VBVmpzU0ZCLW91RkVuTDRiTGtEeGhUOGZVNF95aXpsYUpBbEluV1htMmpBRjdYOWFOYnlUQXRUdUpRc3o5T1dMSEdLMTlJWVJianZHTlNudXBONTJ5dnYyQ1dCYWhfUDhwZUpZc2pmQXRGMHJmZnlxRHVPUk5lNFJaNk55TUFYdXdCd3I4N0ZuZzdlWGNldTdmWlh1YVNaMTZFa1M0QXVUeXhleVVxT3JGQ0Y1RkxyMmlHcU45MnpubjBCbjZpRERnLWcwZ3NhdUtLZEduSC00X1NQeUVwSmNsTnd6bGcyZzZUNmhOSVpyTU5LMWJveTFvVXpzZTVrSG1CeDJlWnJpQk8yM2lVUVREMkM1bVEzazBkUUt6WEx0SG12RnJBTVR3bm1VZXFnYmc5QWpKMEFrTGJhclFVbnFuSGdJTjRoeUNOTXFKR1pQdW1rUERoNk9EaFpaR1hEZS1HM3FzbW5rWDVJMDlTRUNBYVVYTU51d3Nfemp5eS1yZHQzX2JrNGxMWElhNjRZMTFFNy1ScXFnWHBNbVBUU3pmY2JMS3pUWE5YMFlvSzA3TGtlb3VSQmptdUFZWHRJcmZVRnlWVEdpM2Y0VlVndUxnbTJ4c1k4bE1CLUdyZlNEODZ2RjVfSktITVZOZzhQYThYR05MUXJPUzVMUTNiQWhCU2cyS3Zxa1RabUJjbDJuZUZUT3FsMDh0anBWWU85d0JpNl83M19BXzQya2Mta0lteHY3akVvb2dPMFgyYmNna1Y1NDl4ZHBTRzB2VDRTZldpX1gyVWFnTGQzVmFwdFhGRnZ1YkNHUXRYYzlvZk94RVo3TXYzWWZ2aDFMV2NsNnR2eDNobHRHeDE5U1RVMnB2QklOcFZPR18zOGZjTXpkWW5fYmlaenBoVFJLa1JOc2p4dzFSSy0yUkNONzBaTzVDU2VoX2x4RU1odGtYMFVWcm1yNVNpZ3lvVVUyU0JNOUVSN3JaRGluNG1KeWFtZjloeDVrTk9janR5cGFiVm45RDBKeXdjX05BZXM3Um1DWjFIMVlHUDJLb0lsQ0JhQzZkbWtBRllRY001VVNoZ2ppc0ZyaGpxTkVySjh2ejJHekN2ajNSdDZFTmNCd0txcFhsTjNJcDM0QzJaZzZ3UzRwNC1VR2J6ZmFZdnl3UUh4T2E1YVNILXlKc2tIeVV1b3cxVW1FR1p1Zm4yUFlQcEVZSTYwMEdRSURMVzBSU0tKX1BEbEhmZ2NLUmM3NUxTZWhGWnRiU3BjYy1NVDZCbGZRUXVpdkRNLWxFZ2hPczBqZ0ZZcEpIQTlMSldsTnN0YTZKNVhfWjZraE9naC05Wjl4N3otQ0dFYUktRmk2YnRiSl8wcUFFNjRoQ3VLZEtWZFhoUFJNMURKMm9SQlJCMmNXZ3lodWtrNXgzVnNyaFhRSkRobFczNDZYM1BJMEtDMDdfX0Y1Q2xIQ1l5blNPdmxIUzY3bnh3NHNhRE8zTUg4d0k4TTZfQU1WeGJpeHRTTVVDRURCRjFLcHpRZGdtaktOSkE2N1BhckZNNVpzNkUwOW42SXdkbzU3QzRpSHFITFNNTU1WOTMyRTNIUjh1M0NGWW43T1lYeGs2N2F5RjZWeU9FY2FiQWlscG9EamVUY1N3OVlnWmctQ21JM2JYYTN1Vl9ZZHFQa284QmUyRnRiUHdNRzZWN3hBM2haQXdmbnk0eHVJMG9JczZqQXlnV0FxdWx1eVIyVkh0MWt1dWp4R2tSd2YxcnB4eF8wVGZqYy12MVJQU000XzBXNkxGRG1ybmt0Q2R3ZC00STItTncyR1FIVDB0bkZybENJbzl4ZjR0Zm5lRFJja3hfdy1yX1hBOVE0RDc3cHZ6RGVidk4zVWdWNnFIS0ZHeUxKQUp1ejVsTVcxdl9sT0pzQ0owb2tUVlJiRHV0TG80NTdydnFtUWlRMVY5UDE0a21JcXgxcFZaZi11X2FRcEpnQmk4OEVxZ0J6djdNOF85T2EwMktTWUFWNzZWcHcycnIwRXo3c3hySW1fcHNPX3U2dVdpTG5DUnRUY200UnZreEtoeU52X2QweFRPdzdHTVFKRGlNOVI3NHF3TUw4TXdOZks2cUs4Q1JVclc4dXJNcDJjLW55Q1ZseTBERXk5Si0wdzMwWmo1OGFKc21PajY5QnhuS1Rqd2V5c2p4VUROUDlWaFNMMjh2MDhPSnhnTWRmbDhEbzB0cHpJZk1NdTRRNXU5ZXRKUTA4bVo3ZzJkQ0JMMnBaMDJlaEptMmlnd3dERkZPZmNmNnI1YWhlWnhaTlF5OXZWbDBROFlvb0tFZWNRMmpoeVI2QlNZNzRuZTkwSDBHZmVhYUZmN3NiS0lEbl9FdDBqNnJpQk9RQy16Sk1ldjVlU0FlNzlMcjI3eHg3MldMeVN6VVl5MkZtTFhhcTRkTS1DYlpGUHdiVEp0U21jeFNTSGJkUy1ONk53Rmt1RTY4VUFPemRvRnM2eDdNN2VVSVVLU0E3ZzFPb1U2Yk1JYzZwVUw1aVhId2d3NTdvNEttSjlELTgzQlA4RFFJQzdSTnp6OUdUX0V4NE1fNUcyS21IS3llTWh4Z1U0NnMwM0U3YldJcTNSZ0JlNEFCaXQwZVRpbF9McWZsZS1WWW1YTTV5WWJnMHZDeUZtOFNyVE5vNDFEYmc0U3BYcndqeFp1cXRrTzlCOFNsNHZWY1NYTmJqWFVsYjlkck9KeVM4X2I4Q21DYi1Wc3dhektLUmp3bUs3dW1IbmtrczMtanFrb0JwcmhjTTBkdGxZVVkzQjF3azFlNEEwTjZUQ1RJNzNZWUM0RnJyS3Z1clVoVzl2dXYyM0hjcU1ZNk04Si1PZkRDaXlRTXQwQ2Vfd0E5TWVyT3JuWWo0Y1RPN0Y2TXVTSTdadUhHM3ZNVExuZmhkdUh3dWNJaWV2Y2RrdG52YXpUS19PanMxeGZHUWd2bUlmUFdiXzB2eDdXTVgyZjI2NS1jdTN6cHdqUEg5MS0wMzJfVVRLbkNzdktvb3pwZ3pJLVlXNzZvdHhYcERiN2stdmVwOUpScFZqSWpEaVNiZkZlV0h5Rzgtajh3NDFMNm54RHBGRE5nMldtclpqV19RVmtoVGpMRXZqaGVBQ2NLaTNmbWxWbDlUZ01WbTNoUjBYRmdUVXZxOE50ckdCcWd4aHAtVG93NDVvcFpBNl9keGt5eXRWVVQ3V05UODZiMlRzNThwSnFRc0xFVDE1UnQ5RUs3Y052QmNTMFQ2TmJxNnJla3dYbFBhTE82eFJrTFdkVW9wZHpEQkRNWV9wQU5jVVM1ZHpYVnV3R3E5RDZoNTJIRmxWUlZZRmVOSkhxNDdZbVdTa0NiVVVmb05reGQ4TXcxWDhva1V6Wnhmam1WdEg0Y1lOaWdRWmZVQVdRdERyNVppZDRDczRhLVlQWHB0WkR5SDJkRllkN3FwQ1BBSXp5SjdZRUlGaGFqdXU2c05pNlBpTjloTzRCSVd5T2Fiai1rNjZpZ0Rmc0VnYXZ5MHRSZ2dGU05HcjlFVmlPZ0JpTnlhTDFvenRXdlE=)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmcxWjFPNWFsdGs0SDI0ZTRCbjdxTVZjQXFPVXI0c1lOazZsdTBPeGxuVGJVdUdkY2NvekpOdTU2ak1UY0JteElMdlFTRWplV3JKdXY3Ql91ZTJueE1SWG1nd3c9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmcxWjFPbHZabXBMYkZNT0tXVFRjcnhGby1fM2FpUTJWejRld0hOSllHRkpZcEJURFgzM3JRa0N2ZmhLVlZ2dVZOdGdKSUhDR1FmTWtUOGVKc3RMdGhmUl9QLXc9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmcxWjFPMjlyTFpldEIzeFJkcFdnMkdQczdjT2xTQjBVWDgyNjlVUnZBcDdsWjBzMzM0QmZxTUtfbUQ3ZUlNLWo1a0pwLTMwYk5lcW5XX2pZcjM3aDJ6MU1BdFE9PQ==)
        APP_STORE_CONNECT_ISSUER_ID: 3eea978d-563f-4b65-8123-a64cebd594c4
        APP_STORE_CONNECT_KEY_IDENTIFIER: W75P6F6H3G
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmcxYXdSOW00ZGtMQ2NEMVlhZ3lqM2hzcjJyZUlLdG1FT2dfR0FlWVQyWThKUUlKUVZNN2NXbHhJMmphUDJXUy1Uazk0djBscWNlM1ZxVF9zTVJ6TkNpMERfdkdsbWkxY0xrMzk3SXhhLUNzNURQWHVmYzhSSG9wREpSOHVJNkdUMDRPVjV3MjdmNTI3Q3Y0RFBBUERfUnNtSmVOUGZ4blVwQVpUbUZKb21KN091a19aWmR4SHlOZThNTjROY0hKakJiSWdieFB2TkVZZlJuWmtudGpsb0hwamw0SUtiNTlob05keURncXYySDhMcEtsSTZXbE1Yb3RzYkR5SlVpcEdzM3pUbXhicGhiVG9xRVM1Wk9BT0htSUI2dmx3bFdoc05weVE2TjVXMVJ1emdPeHFDTFBoS25zNnhKdWVmeWxqT3FGX1NBYTRIUEx0MUVtVU96MGs2MjhxLU1DcFVGd040Z2VQZkhLMnNIOHFBdGt3eHBZbmg0YkhDX1BRdTQ4ZEhWbHhJUzByN0dkSWVJdTVGOVFJTmRDQ3VOWXh3cC1hRVNhS0lzV2NfZ3NnRTQ5QT0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmcxYXdSTDQ5aC1tdWtUWFAwRWRsZ09SLU5WNXI1MFA3YUdNd2NTN19lT2ZPQldlVVMybHN2alhSZHBNTmZlSUN6SlczazdzclAxMXRKNkxCV2h1eDd6R0ZSVXRmTlRBTW9qNVdDQkw3TmdUbUhlbWwzZUZicWZkeTRtX2Vtd2JfbWVHYlpxZ0VVS1hRd1NEVlE0LW1RVXFnU1BtdTlnaHB1YktqRXF5RXlVa2dCVHVaUVh1cXBYZlhCNW1oSEZLeTQ1dWd6QnNZQXlGN09CcFpLV0pncWwyM1IyYVZ0LXd5Z2xyZU96WUFkczRXajNnRjVieXpwdzNWNDRtWldCQ3FDdThHdUFNcEpoRGdReHpoc0VoTFJOTk0ydjB2T1hEaTNTUkxLR0tjZFNlNVh1SVRJeTZPR2ljQnN0bnNjRVBiNjBJOUg3Y2xZU19CWFdrLU9GUUsxT3ROQ1RPVHlVZTUyWXlCTUhTOXpHWGZJUDdzRXAyaW1ORWI2MTNvdFp2Zy1KbE5GR05pdzV6Y3I2M3VGamNRMWZXMm90QUNhaldadDJuSkpEcGFHTkZvcGtrOGYwS1dXZDNIM1AyaDFoSFBrNi1FOUNXMkU5U1FFYURmeHVkdGVhN2czWkxlOHFOMWZpYWMwMEhSa0JpQXFBVHkzVlJ2dGVWTEltX001azhYRmE4Wnd5WThYYVlsZW1wSFJiM2FtdXpHemFWRW1Jc1NndnJNbkdiODk3MEVnTHdkNHRyb2daQV80ZHNjeUJ1cHlCRHJsR3ptWVlYeEZ0Y2pKM0VaazczdEJKcDBVRjhaVDh5T1lXSVRoMUx4QU9qdUlyWWxVT2NwdURCeTdyUFdfT2pfTXp3SFRJV2x6U1NvX294eG1mZFlzeGxnNEg4aExRcmsyWkVkY1hfV0U1VU1uSnFHVndMcUF0Ry0zVnROZ1N2ZGtPOHdpUjJXNnhTakZOT3djNGtxXzQ0aGl6UXBQUm9LcGp6bjd1a3RlRnZNNXRlNUQyZG1Xd2czXzVfd3ktWnhXckhkN0sxa2F1anV6Mk8teVlXYmdXRHM3OS1IWllkcEtpRFJUdDVJazZZS282SUJHVzIzc0hSMk9MN2d3OXotWEZrVEZhSlh5VU5JbC1CZTVzaWdraXBKa0lXcnBQcnpad05LQnpYYmIwcUV5OE1KVUVOQ1hFdFEwMEs2Mm5KZmhvUmhHQlZONVJhY1ZzT2ZmcEM4ZWJHS3FNNjJJZGtpVGxiNE1LVUlJVmp0bnpSeWtpRnFOaXBlaHZmOVF4SjRzRUhoU25BUTVwbThqZmhuamJCQ1BVQWwtdUtoN1Y1VmNqNGI0QkdrX1BORlI4dlZ4RkJGYjc4dXY5UWpfYmNXYXVmMEN6cHQzY25wZmlVdHBMd3hpcFVITTRGZ0FhdVJiZ2lvUkRYelNpQTZEX1E4amFwMmRZcjdVcXkzcDF2UzdsQWpPU2paSjhOU0xHNlNwSzRmWVFqUUJWNTRTWmtORHZsVDFRWWh4SjEyR3FxeUdYTEtwVEdCWWFQb2xodkdfQkdUM011V3dzdEZVTFZhd3ljYWFRa2RxS3ZXckRrR3pKNkZRcmdyTDFUVGlUZVBfMUp1TllpNXBtS3ZsMWRZaExIMS1qUEtSMWptc2dzYkRnSzY0bHVMSFplTERwUFAwT2dNMUdIVV9JRUZTRG1ybHJLSkJmemhtUTMtdnJ3dDJqMlBXb3gtVkM3cFMzNDRMTVhiVFVfeGI5UWdhZTVYRTM1cEFseWlGTWVXN0FFUmJ5WTFNOE5hcVNUV1I0aHVCS19SVU9nblBCZHE4UWVJUjU3RzBwdDZDbEFxNkpDb3JXNEdjZ3NrOEk3VlU3enctUk1MZGxCdlZXaFFUWHNuWFRrcDlhbVV2TnZCNzVFaDI1OUVoR25LSDB0NGlJOU11elN4bEpGdW1INmFYTzY2YVdOdE83Y2VSdWVGZF9XYnRWbi04T1B1RDJxOV9QdWs0eDZ6eUl2cERWMk1VbTF2LWN1VTM0dmJUZmtpazU5UXBUOTdrUWhzQmptcEZmMlNUOU1OQ3h5S0ZkTTlwMFBhMGZadkRvdm82RVFBVDJsOUZLX3JIQXVmNUFoaUp6ZWdqZkRRS1JmajMyUTMtcWtnUlJJMDdQZjNzSE9mb3JJSFQ4TnJBWkVhOXpVemtSS3FrbzJIZV9TN0FZU0FiMF9BOExERXdfUU00ZEVuVmI0VzIxSkJxbmFpN0p5TEd1MU1uenNEbF9SMVc5R3N2MHc3cXYwUnFsa09GbVpFQWxKZDYwV1B2ZkRET1p1dlVxcnc0eG5naDFZOVlLSm8zdGRva2dCSV9tUWxiQnZCb1pRd3ZwMVp5SFFsUDhIMWI3XzIzNnM4Q1ZDbGpzY1pQVGZWMnROSkdMcjFuWEdOT3JzNzFpQWtrUlp2SjRzTGR3Q2VObUNaWkp4NXhHRkE0T3pWV2NVQXZpRi0wM0pYb0lDVXprVDBCRkRBbHExRmZGREh3UFhrWVlwLTJOUUZseWZjeG9RMmVudEQ4eE5iRGNoTzQ3VjByWko3RGJRTW1nd3ZnaER0emh3SFpaX1hyaEpzUV9VNjRSRm9TcTZydEQzMEwyUGtHSnI2V1FaaEVrTlo4ZHNoSmdhU3UwUG1yZkp3RGVMLWo2QkdfT0J4Z3NaeFNubnVMSjBoYjkyWnZJcTREbnhjMHNEcmtXN2FCY25NN3pTY0JKV1AzRllnWnFveTg2TDJNMjFMRGxNMFhGdmtHZzY3dlNYZFBObXhwenA3bTQtZ3NDVkZWdm9XYk13Y3A5UGY4SElSQlRnZE5yMHgwRDdqajBJdFFjMFJ0dFRoZEt3NkVFVUV1dDBuUWZOclF5cFhmcjZ3MTk2V1BDTDRham9TVnJvUGVmeTB2UDVzWmpLcmg2OU5sQmU5NC1oX3kxNkx2MXNnSEUtSHAxZk9BNzJkQ2d4QU5uLUJRck1IS0NMbDNGUnRMbjNPdFo1SE1NZVowektmVWpick5KcS1fbFYwY0lseVZUY0Y3eWIxZHNUbGJldk5xeDJiVTJBWHBIb0g4d2Jhcnp5MVJsYWVv)        
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: master
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up release keystore
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        rm -f "$FCI_BUILD_DIR/android/key.properties"
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=$FCI_KEYSTORE_PATH
        EOF    
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter config --enable-web
      - flutter test
      - flutter build appbundle --release --build-name=2.0.$BUILD_NO --build-number=$BUILD_NO
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.manpreet.nitnem" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=/Users/builder/export_options.plist --build-name=2.0.$BUILD_NO --build-number=$BUILD_NO      
      - |
        # build web
        flutter build web --release
        cd build/web
        7z a -r ../web.zip ./*
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - build/web.zip
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - geekymon2@gmail.com
      google_play:
        credentials: Encrypted(Z0FBQUFBQmcxWjc2dHJPNEhjaGpuaFpDWHF4bk1PUHFzbnZwSi02anBXNlJ0dHNUUVBqeWVXa1pnUTJ0dFA0VHhQVnlPaHEtOGhvY0RCUjdZV3I3S2gyenZ4Vl8zQUZ3RUNzLXFqd2dXekFxSXpQVFR0X2lLU3BjaHFEUHlpOTFPOVR2dVA4R2pFaWdhNXJCVEl4cUNDLUJCNmJEb1lIMEg3S1BuRU05YkQ1d1UwRjdpbmRLRldxUlU2UG9hdEQycjhKOTMtSDRscEFsRzVPQ2xMMG1nY1gzRlVfX0Uwb0htUEVmWklYR3lDOE5vSHZZTGpsckE1OEcwQlA5MWNWeUhUQm1YaUdyYnNQdWhHQjQyS3lEU0s5a1BHcUFUaWs2V0E4cWVGWFpyWDNTNlQxd1JwTzM0MmhtamRPbFhxSnl0Q2FxTGtlVW8wWXpDamdhY3NHVmxhTk1hZGd3YnJZVU80Wi11ZFBDUUh2Yi1XNzBjS3FqSDQ0aUc3aEF2U1AxNEpnQkt3YUJ1S3E1THhTZzF5T0poRkhUOWVBaWNCZ2RDSlBwMTlsY0J1UmlaWnY5c2xHWEZOenc2VFlTb2phMVd0SU12bGFWWEtlUU1sQVdZQmZYUW5oaEpHaVYyRS1SMWh4bWVYMlF3U2dvYWE3R2dPSDBlZk1QYWxKenFRa0RyXzFIR2xHV1JHYVdQcWJ6UldyaDlSVDNYRW85aEdQVzdFaXlmR0pHQ1hOU1I4RS1hNmxRYmx1SVcxSloyZGlhUjNKNnpMZGhqNXZVSkZQTmkwamtpWEc0YmczZjI0UkxhT1Z3R084dVpNcG9LYThOamhxNzdmOUNUY3B0UmRsenZKRDV4ZnNvUVdKVC00a01VTVJDbFhjOXAzX3hiYi1CeDdldmtrb01MU19NQi1vM294RWRrWUp0V2U4ZDJTSjhJb3RLQU5RajRPZGVxd0VOWFFGRUdyU1lYRmI2aVJGbHJJV0tZbEFnNmJuMzdLN19zeG1uanMxY196T3VvandCRVoxT1AwajBRNHVBdXJ3d0diS2ZyTXJhNzU4QnF0QjhSY0g2QnlxYXVSV1d4NlBWRnpxRVR6MHJOX0JZU3RrQWdmVnZrZFBkRmdBdWlXYk1xZTE5QWo0X3o2QjA5Ti1jMjZodmNkN3JTT0gwWHdGYXBaSHhkcmFwNWl4ZXIyb1RLNnRhakVPTXhFNTNkM3BnTTVvSnNIeTRCMXE0ZDQzb3FEX05fSEJRcUJKeV9CNVpKeF8wTm92MlFlSFMwRjNoZmpfRXQ4UjRTaUs2cVFVd0pZY21HWmJ3UDZ5LUJJZXNYR0d2U1JsVUJTOFZ5c3VoZS04d1V2MnlEWERlMXNhZ3E2RGZZOFA3VUpGdHRrWlRuc3ZyVDZnSVpvMXFyVjNlbEVYdlA3Sm9CTTNWYkRiMlZieUc3aTVVbUNSYTI3N04wSEszUVJCUE1mU05xRlVBZEVYUHMzNncxZ0NPNWQ5MUVxWUFHVGU4RlFzQ1ZYbElzMW9fYnpHZmMxTW42MHNGZmZBQmhlaDJfLW1qdkNfWTROajMxbkc4MnBMVHBpYmlGVE9hRWxLRzdBYUtSX3pMNXpudjBmWmdFV0xwOTVFUWVKQ0FNaWx6eVhBVW4tV0E0RklqcWtqdjVjekMzVDc0b2k5TkdtNks4bmNhMTZITExJaklvLTlDZDNocko3dDhIbjR4Y0tuZElvQndDMUFZUXI3anFZYXRHSjZKVEduS3owTFpDNG1QX0NMQlExMHF6Wks0QXh6Nkd0ZndyVXE3T1JqdHJWT004b21GMEs4UlRUUnlpeVFCcklJY1JIQ1VzbWxKQVV4ZEF1MTREb1lWTkxNa0oxUmhJZExBYm5LbkZlMC1hcUx2c3JIMjRSNkFGNFNIc3Zrb0ZKOVNaeHBuX2M3NFJhRDlEekgwdk5BeGhiRVViWWprLS1MdmxKaXlxZXRLLVJydDdTRi1aaWgyWFVPdmJjcWtwWnRtUWFOQzZaUWRXNjk5cGc4WWJOV3lHLVFfRnpwRElyR2ZCdktDdmttV0tkVUdFR1U1N25VLWtoLVY4SzdUV3JpTEwwcEtUNElyYU43M1lPNkUzVDlPb2R2NUdqaVhyT2JITkxMY1d1N2ltOS1rZ1Q4YVlsTlcyLTk0MGViekRNdHlrc2dIUUxMUDZBYy03Q2xzQWUweGdQVUJFek0zTHlOdDhLanhVS1lyX1FMQTVaYmVHaHAwTFJ3ak9NcHlZQTZNZGwyMFNOR2hNcVVhaWx5RlltcnlqbW9Bc0dXOEFoX1RjZ3lrYnpJRXhSb1RHUG5Tc0lNSWhwRVFvdDhJU3NETkQ5VF9IUml0dnlPUjF4WTg1cHZFdFBtWkZiRUlqQlBmY2lIblAxNlNRUVZrbllUVm5CeldMVWlTTkNaSzNKbk8wRGVxOFBscVIwc1E5YXkwNERBeW85ampZOVdXdWFFSFByMnZwM005aEU5bzFQb1k4c25BbFUxVFBkbzdFeWdTQktWY1dCZDFUdl9kcjI1NDJJeEZDS3o5MkhzNDVFWDl3M3JRT3VhOEs1OUUxVGI2ekR0RHpJTzlKMjQ5T0x3OGRWRDFEVTg1VGc1bmJmY29XeXVrVThjVE1FX3QzRlZIZXZtZXFoaWptaWJuek5VZmk5YTVJR3RZN3hucDhJczBfQmtIYWJ6Rk5MZXhVSkVMVjhTd0FraUFnTkhsSFBvUG4xV2pENmtTNHNKd1ZrMGtZZ2g3c2x5VkNfUUJhQUIwdmRFSmJCOFpnbkxjMzN6Z3JlTy1kYmh5dk5UVGVHaHBaVXR3b3d3dl9kZldWU2xKckkycmViSHpSS0Fna1FjVS1zNno2VmUyRURDRVFMUHEyRFdhSEpOVlhRNldwdThrNF81Zi1hb05CWWhuYUdWTm9jR2loMlN1NTZCTS1tUVNXTTIwNlpSZFFVeGpCV1ozbFpDSVFPVEJ0dDFMcDZJVWdzWmw5SmZUbGVrd3NkbEpTM2pRN01lZ01rb3NWd0lNR0lUeVZSeFE3V3pfeU8yeWEtQk9HNUlyd2RrOFhjUkowSGtUWnpmUHRESzZlS3FiN0Z5TXdnN3F0OWFtSk5ZaFVqcktfWXplQTdyZ3hSTXd1SXUyZU1fSUVpZjZhVHFYNVdxRkU2Mkd2cGxwYm9kaVBRWmw3V0R2TGM2R1RkcU4wbFVKZ0tWNXRxQU9uUnZCZVBXV244ZG5TQmllbUkxOUdHTUlwdW96SjV4LUNkSDhuclpKMDB0YXhReUIyLWhVOEc4YUVWVEJmc0tWNDQ0Q3VSUWptRmVKQi1rQ2lhVTNnYnhiNFFDUGRGa0dGLW95QnlMbzFWLVFCNVlpVElsUjRQVG05ZlF3RFhfSVZiZTlBLVZCUVNJcEE1aWplYVM1cTBkdWxBRzRjRTVtRlJBZWt1RHVLWjdOLVNwcHBkM1hTMk0xMG1qcjRDeFNYNjJ1UDEtVEFwRExhbU9jTkVfT1FoX0kwdmRaRjg3QmRqbC1acEpHTlNWQ05GT0I2aFBxZ04yZjRGMHFlUkJTMmdFYlc4WjMwS1lJRlBPOXpCcnBqTWZkMU9OTEZvbzRXbE1icTZCNlBpR1RqSjk3dTRaMjJFZjZleDY2Z3ZOSTZYbWZBRkQ1d1NxMVFmazZ2aUFuV1ZuX0Yzc1F2SkVsMml6VlJnOHJfa3hlcUlSRHJWX0E4dzJrRjBqZy04VTZXNFRpT3lMVVZPaDMtMU9TTXVmdTEzVTltUWM2dk9XaTV2WDlHcE95OXd5eEVRNXlTaHBwczNJdldmN3FzYVFYazJIQzFSbGNqQ3lValExTmtfOU1FTTY2Xzd0S0F6WkU0blc1V2Z1MXItYmVXR2dfQmNQSU45dk5sQ3hZS1BjUTF6Q0ZfX0ZaYW1nZk5jTENQcFVUR3U1b2RlNmRHV0MwUzNwd25JcXZjNTY0V0RrYzhpbUswekVVdDR0WWg2Nkd1a1RocVdQRVJEdmxYbDE2UnNkcDFCa3NUMnJ2VUNuNHJfQVc3bURCcjhLdXNMQWliRzNqVEdhRjdvSUtNazZiQUhJOVg1ZlZoaDlsRFdzZ3dRdWpCU2RUT2ZUMldjY0x4SzBGcHkzQ1BJYlAzWHAzUkk0NXRmWFU0Q1YtMFpuZ3o0SGNtS0tHX3FuZlNyM21rVVcydFZadDExLTZwdjdvWW9XLW16blZtWU0xSkhfWlZSV0Nfa3I4ZkJVQUozRzRCTWVULVVTYzBsOEwySkEyaC00cFhwMlVTaDJnc1JlRVFBbnJJYll2VjlleHZhbkYwbUZVdjllRUYzNzhWWHZwX1pfbGxEdnloWW5DUzRrPQ==)
        track: internal
        in_app_update_priority: 0
      app_store_connect:
        api_key: Encrypted(Z0FBQUFBQmcxYTljYVYwTjlZRngzWFRyNC1MOTVlOEROT1o0LVRSWGllb1hnZ05GaVFTMmZNdVBUTGJtWGpnVkFQRTBHaE1EXzY2SGxoY3RfdDVmdEhDaXNiQTJyY3VzR2RtVkpsdnE2ajNDQ0FlekdyYmlEbnRWeVZPV1dLZ3JhcjZnNkdqMGVlc2dPQlctN1FVRThNQWVQWTlMdWZXY3VLdGE0VWJMWWhGbWRLMkhrYlBvU3FxSjVhT3lJRmFhYkJYX2Jrenp5UXU0amF6cDljVWVyeldGdUlfUVROanF1VlMzNndRQTNNOGdXRGduLVg0ODMxRkVlaTE4eHFPUzUyZ1RlZ0xVRzBYQWRtaEIyS1BRZTFJMHJTT1lhTFZ5RFhhLU9HVzVUR2xXRTBSY2phckZCOU1kTU1IUXdVRlRtU0lvVXFycUNhamRoNHVkVXhYYlpDWElPeWJ5cDUzbDlQU0Vub3J2a2lhQW9COUMyTmswdURVZ29DekgydjZZdjE2ZV82WXEyR0gtVnd1aC1TN3hlNEY3OEd2TVVhbnR2QkRPZ2NRY0RsYUp2cktuRHNUZkY4TT0=)
        key_id: W75P6F6H3G
        issuer_id: 3eea978d-563f-4b65-8123-a64cebd594c4
        submit_to_testflight: true        
